{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/emily/Documents/spring22/capstone/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/home/emily/Documents/spring22/capstone/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/emily/Documents/spring22/capstone/website/src/settings subpages/profile settings/EditName.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _templateObject9,\n    _templateObject10;\n\nimport React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport Nav from \"../../Components/Nav\";\nimport Footer from \"../../Components/Footer\";\nimport { useNavigate } from \"react-router\";\nimport { signInWithGoogle } from \"../../Firebase/firebase\";\nimport Google from '../../Images/Icons/Google.png';\nimport { store } from '../../store/TripUsStore';\nimport { gql, useMutation, useQuery } from \"@apollo/client\";\n\nfunction EditName(props) {\n  var _this = this;\n\n  console.log(props); //props.auth.userProfile\n\n  var history = useNavigate();\n\n  function handleRoute(route) {\n    history(route);\n  }\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      handleClick();\n    }\n  };\n\n  var firstName = useRef(null);\n  var lastName = useRef(null);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstNameInput = _React$useState2[0],\n      setFirstNameInput = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastNameInput = _React$useState4[0],\n      setLastNameInput = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      clicked = _React$useState6[0],\n      setClicked = _React$useState6[1];\n\n  var fileToDataUri = function fileToDataUri(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n\n      reader.onload = function (event) {\n        resolve(event.target.result);\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  var handleClick = function handleClick(e) {\n    if (firstName.current.value === \"\") {\n      setFirstNameInput(null);\n    } else {\n      setFirstNameInput(firstName.current.value);\n    }\n\n    if (lastName.current.value === \"\") {\n      setLastNameInput(null);\n    } else {\n      setLastNameInput(lastName.current.value);\n    }\n\n    setClicked(true);\n  };\n\n  var CheckBlank = function CheckBlank() {\n    return /*#__PURE__*/React.createElement(\"e\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    }, \"Please fill in first and last name!\");\n  };\n\n  var UPDATE_Name = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"mutation update_user ($ID: Int!, $First_Name: String!, $Last_Name: String!) {\\n        update_User_by_pk(\\n            pk_columns: {User_ID: $ID}\\n            _set: {First_Name: $First_Name, Last_Name: $Last_Name\\n            }\\n        )\\n        {\\n            First_Name\\n            Last_Name\\n        }\\n    }\"])));\n\n  var SendData = function SendData() {\n    var _useMutation = useMutation(UPDATE_Name),\n        _useMutation2 = _slicedToArray(_useMutation, 2),\n        update_name = _useMutation2[0],\n        _useMutation2$ = _useMutation2[1],\n        data = _useMutation2$.data,\n        loading = _useMutation2$.loading,\n        error = _useMutation2$.error;\n\n    useEffect(function () {\n      update_name({\n        variables: {\n          ID: sessionStorage.getItem(\"userId\"),\n          First_Name: firstNameInput,\n          Last_Name: lastNameInput\n        }\n      });\n    }, []);\n    if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }\n    }, \"Updating your name...\");\n\n    if (data) {\n      var userProfile = JSON.parse(sessionStorage.getItem('userProfile'));\n      userProfile.First_Name = firstNameInput;\n      userProfile.Last_Name = lastNameInput;\n      sessionStorage.setItem('userProfile', JSON.stringify(userProfile));\n      window.location.reload(false);\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 20\n        }\n      }, \"Your name has been updated!\");\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Content, {\n    theme: props.theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SignUpForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Change Name\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    theme: props.theme.theme,\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: firstName,\n    onKeyDown: handleKeyDown,\n    type: \"text\",\n    placeholder: \"Enter First Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: lastName,\n    onKeyDown: handleKeyDown,\n    type: \"text\",\n    placeholder: \"Enter Last Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, \"Submit New Name\"), firstNameInput !== null && lastNameInput !== null ? /*#__PURE__*/React.createElement(SendData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 82\n    }\n  }) : clicked && /*#__PURE__*/React.createElement(CheckBlank, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 107\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(EditName);\nvar Container = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n\"])));\nvar Content = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    display: flex;\\n    padding: 0 10%;\\n    min-height: 100vh;\\n    justify-content: center;\\n    align-items: center;\\n\"])));\nvar SignUpForm = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    margin: 150px auto;\\n    border: 2px solid \", \";\\n    border-radius: 4px;\\n    padding: 25px 100px 50px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    max-width: 600px;\\n    \\n    p {\\n        margin: 0;\\n    }\\n\"])), function (_ref) {\n  var theme = _ref.theme;\n  return theme.toggleBorder;\n});\nvar Title = styled.p(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n    font-size: 36px;\\n    margin: 0 0 50px 0;\\n    font-weight: 700;\\n\"])));\nvar Form = styled.form(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    margin-top: 20px;\\n\"])));\nvar Row = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    margin-bottom: 20px;\\n\\n    label {\\n        margin-bottom: 10px;\\n    }\\n\\n    input {\\n        border: none;\\n        outline: none;\\n        padding: 5px;\\n        font-size: 18px;\\n        border-bottom: solid 1px \", \";\\n        background-color: \", \";\\n        color: \", \";\\n        margin-right: 30px;\\n        transition: 600ms;\\n        font-size: 14px;\\n\\n        &::placeholder {\\n            color: \", \";\\n            margin-left: 0;\\n        }\\n\\n        &:hover {\\n            border-bottom: solid 2px green;\\n            transform: scale(1.1);\\n            margin-left: 20px;\\n            transition: 600ms;\\n        }  \\n    } \\n\\n    input[type=\\\"date\\\"]::-webkit-calendar-picker-indicator {\\n        background-color: grey;\\n        border-radius: 50%;\\n        padding: 5px;\\n    }\\n\\n    input[type=\\\"file\\\"] {\\n        width: max-content;\\n    }\\n\\n    p {\\n        text-align: center;\\n        color: green;\\n    }\\n    e {\\n        text-align: center;\\n        color: red;\\n    }\\n\\n    select {\\n        width: 130px;\\n        border-radius: 5px;\\n        background: \", \";\\n        color: \", \";\\n        padding: 5px;\\n    }\\n\"])), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.text;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.body;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.text;\n}, function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.text;\n}, function (_ref6) {\n  var theme = _ref6.theme;\n  return theme.body;\n}, function (_ref7) {\n  var theme = _ref7.theme;\n  return theme.text;\n});\nvar GoogleButton = styled.div(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n    width: max-content;\\n    border: 2px solid #4285f4;\\n    padding: 5px 30px;\\n    border-radius: 45px;\\n    display: flex;\\n    align-items: center;\\n    cursor: pointer;\\n    transition: 300ms;\\n    background-color: #4285f4;\\n    margin: 20px 0;\\n\\n    p {\\n        margin-left: 20px;\\n        font-size: 16px;\\n        color: white;\\n        font-weight: 700;\\n    }\\n    \\n    img {\\n        width: 25spx;\\n        height: 25px;\\n        border-radius: 50%;\\n        background-color: white;\\n    }\\n\\n    :hover {\\n        opacity: .8;\\n        transition: 300ms;\\n    }\\n\"])));\nvar SubmitButton = styled(GoogleButton)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    background-color: #308446;\\n    border: 2px solid #308446;\\n    display: flex;\\n    justify-content: center;\\n    font-weight: 700;\\n    color: white;\\n\"])));\nvar Login = styled.p(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n    text-decoration: underline;\\n    cursor: pointer;\\n\"])));","map":{"version":3,"sources":["/home/emily/Documents/spring22/capstone/website/src/settings subpages/profile settings/EditName.js"],"names":["React","useEffect","useRef","styled","connect","Nav","Footer","useNavigate","signInWithGoogle","Google","store","gql","useMutation","useQuery","EditName","props","console","log","history","handleRoute","route","handleKeyDown","e","key","handleClick","firstName","lastName","useState","firstNameInput","setFirstNameInput","lastNameInput","setLastNameInput","clicked","setClicked","fileToDataUri","file","Promise","resolve","reject","reader","FileReader","onload","event","target","result","readAsDataURL","current","value","CheckBlank","UPDATE_Name","SendData","update_name","data","loading","error","variables","ID","sessionStorage","getItem","First_Name","Last_Name","userProfile","JSON","parse","setItem","stringify","window","location","reload","theme","display","flexDirection","mapStateToProps","state","Container","div","Content","SignUpForm","toggleBorder","Title","p","Form","form","Row","text","body","GoogleButton","SubmitButton","Login"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef} from \"react\";\nimport styled from \"styled-components\";\nimport {connect} from \"react-redux\";\nimport Nav from \"../../Components/Nav\";\nimport Footer from \"../../Components/Footer\";\nimport { useNavigate } from \"react-router\";\nimport { signInWithGoogle } from \"../../Firebase/firebase\";\nimport Google from '../../Images/Icons/Google.png';\nimport { store } from '../../store/TripUsStore';\nimport {gql, useMutation, useQuery} from \"@apollo/client\";\n\nfunction EditName(props) {\n    console.log(props); //props.auth.userProfile\n    const history = useNavigate();\n    function handleRoute(route) {\n        history(route);\n    }\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n          handleClick();\n        }\n    }\n\n    let firstName = useRef(null);\n    let lastName = useRef(null);\n\n    const [firstNameInput, setFirstNameInput] = React.useState(null);\n    const [lastNameInput, setLastNameInput] = React.useState(null);\n    const [clicked, setClicked] = React.useState(false)\n\n    const fileToDataUri = (file) => new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            resolve(event.target.result)\n        };\n        reader.readAsDataURL(file);\n    })\n\n\n    const handleClick = (e) => {\n        if (firstName.current.value === \"\") {\n            setFirstNameInput(null)\n        } else {\n            setFirstNameInput(firstName.current.value);\n        }\n\n        if (lastName.current.value === \"\") {\n            setLastNameInput(null);\n        } else {\n            setLastNameInput(lastName.current.value);\n        }\n\n        setClicked(true)\n    };\n\n    const CheckBlank = () => {\n        return <e>Please fill in first and last name!</e>\n    }\n\n    const UPDATE_Name = gql `mutation update_user ($ID: Int!, $First_Name: String!, $Last_Name: String!) {\n        update_User_by_pk(\n            pk_columns: {User_ID: $ID}\n            _set: {First_Name: $First_Name, Last_Name: $Last_Name\n            }\n        )\n        {\n            First_Name\n            Last_Name\n        }\n    }`\n\n    const SendData = () => {\n        const [update_name, {data,loading,error}] = useMutation(UPDATE_Name);\n        useEffect(() => {\n            update_name({\n                variables : {\n                    ID: sessionStorage.getItem(\"userId\"),\n                    First_Name: firstNameInput, \n                    Last_Name: lastNameInput\n                }\n            });\n        }, []);\n\n        if (loading)\n            return <p>Updating your name...</p>\n\n        if (data) {\n            let userProfile = JSON.parse(sessionStorage.getItem('userProfile'));\n            userProfile.First_Name = firstNameInput\n            userProfile.Last_Name = lastNameInput\n            sessionStorage.setItem('userProfile', JSON.stringify(userProfile));\n            window.location.reload(false);\n            return <p>Your name has been updated!</p>\n        }\n        return null\n\n\n    }\n\n    return (\n        <Container>\n            <Nav />\n            <Content theme={props.theme}>\n                <SignUpForm>\n                    <Title>Change Name</Title>\n                    <Form>\n                        <Row theme={props.theme.theme} style={{ display: 'flex', flexDirection: 'row' }}>\n                            {/* <label>Email:</label> */}\n                            <input ref={firstName} onKeyDown={handleKeyDown} type=\"text\" placeholder=\"Enter First Name\"/>\n                            <input ref={lastName} onKeyDown={handleKeyDown} type=\"text\" placeholder=\"Enter Last Name\"/>\n                        </Row>\n                        <Row>\n                            <SubmitButton onClick={handleClick}>Submit New Name</SubmitButton>\n                            {firstNameInput !== null && lastNameInput !== null ? <SendData/> : clicked && <CheckBlank/>}\n\n                        </Row>\n\n                    </Form>\n                </SignUpForm>\n            </Content>\n            <Footer />\n        </Container>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nexport default connect(mapStateToProps)(EditName);\n\nconst Container = styled.div`\n`;\n\nconst Content = styled.div`\n    display: flex;\n    padding: 0 10%;\n    min-height: 100vh;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst SignUpForm = styled.div`\n    margin: 150px auto;\n    border: 2px solid ${({ theme }) => theme.toggleBorder};\n    border-radius: 4px;\n    padding: 25px 100px 50px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    max-width: 600px;\n    \n    p {\n        margin: 0;\n    }\n`;\n\nconst Title = styled.p`\n    font-size: 36px;\n    margin: 0 0 50px 0;\n    font-weight: 700;\n`;\n\nconst Form = styled.form`\n    width: 100%;\n    margin-top: 20px;\n`;\n\nconst Row = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n\n    label {\n        margin-bottom: 10px;\n    }\n\n    input {\n        border: none;\n        outline: none;\n        padding: 5px;\n        font-size: 18px;\n        border-bottom: solid 1px ${({ theme }) => theme.text};\n        background-color: ${({ theme }) => theme.body};\n        color: ${({ theme }) => theme.text};\n        margin-right: 30px;\n        transition: 600ms;\n        font-size: 14px;\n\n        &::placeholder {\n            color: ${({ theme }) => theme.text};\n            margin-left: 0;\n        }\n\n        &:hover {\n            border-bottom: solid 2px green;\n            transform: scale(1.1);\n            margin-left: 20px;\n            transition: 600ms;\n        }  \n    } \n\n    input[type=\"date\"]::-webkit-calendar-picker-indicator {\n        background-color: grey;\n        border-radius: 50%;\n        padding: 5px;\n    }\n\n    input[type=\"file\"] {\n        width: max-content;\n    }\n\n    p {\n        text-align: center;\n        color: green;\n    }\n    e {\n        text-align: center;\n        color: red;\n    }\n\n    select {\n        width: 130px;\n        border-radius: 5px;\n        background: ${({ theme }) => theme.body};\n        color: ${({ theme }) => theme.text};\n        padding: 5px;\n    }\n`;\n\nconst GoogleButton = styled.div`\n    width: max-content;\n    border: 2px solid #4285f4;\n    padding: 5px 30px;\n    border-radius: 45px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    transition: 300ms;\n    background-color: #4285f4;\n    margin: 20px 0;\n\n    p {\n        margin-left: 20px;\n        font-size: 16px;\n        color: white;\n        font-weight: 700;\n    }\n    \n    img {\n        width: 25spx;\n        height: 25px;\n        border-radius: 50%;\n        background-color: white;\n    }\n\n    :hover {\n        opacity: .8;\n        transition: 300ms;\n    }\n`;\n\nconst SubmitButton = styled(GoogleButton)`\n    width: 100%;\n    background-color: #308446;\n    border: 2px solid #308446;\n    display: flex;\n    justify-content: center;\n    font-weight: 700;\n    color: white;\n`;\n\nconst Login = styled.p`\n    text-decoration: underline;\n    cursor: pointer;\n`;"]},"metadata":{},"sourceType":"module"}