{"ast":null,"code":"import _slicedToArray from \"/home/emily/Documents/spring22/capstone/22A482-TripPlanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/emily/Documents/spring22/capstone/22A482-TripPlanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _jsxFileName = \"/home/emily/Documents/spring22/capstone/22A482-TripPlanner/src/Pages/TripDetails.js\",\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8;\n\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport Nav from '../Components/Nav';\nimport TripNav from '../Components/TripNav';\nimport Footer from '../Components/Footer';\nimport TrashDark from '../Images/Icons/DarkMode/TrashLight.png';\nimport SettingsDark from '../Images/Icons/DarkMode/SettingsLight.png';\nimport { gql, useMutation } from \"@apollo/client\";\nimport { connect } from \"react-redux\";\nimport Trip from '../Components/Trip';\nimport FlightCard from '../Components/FlightCard';\nimport HotelCard from '../Components/HotelCard';\nimport ActivitiesCard from '../Components/ActivitiesCard';\n\nfunction TripDetails(props) {\n  var tripId = null;\n  var tripInfo = null;\n  console.log(props);\n\n  if (props && props.auth && props.auth.tripInfo) {\n    sessionStorage.setItem('tripInfo', JSON.stringify(props.auth.tripInfo));\n    tripId = props.auth.tripInfo.Trip_ID;\n    tripInfo = props.auth.tripInfo;\n  } else {\n    tripInfo = JSON.parse(sessionStorage.getItem('tripInfo'));\n    tripId = tripInfo.Trip_ID;\n  }\n\n  var history = useNavigate();\n\n  function handleRoute(route) {\n    history(route);\n  }\n\n  var DELETE_TRIP = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"mutation deleteTrip ($Trip_ID: Int!) {\\n        delete_Trip_by_pk(Trip_ID: $Trip_ID) {\\n          Trip_Bio\\n        }\\n    }\"])));\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pressedDelete = _React$useState2[0],\n      setPressedDelete = _React$useState2[1];\n\n  function DeleteTripFunction() {\n    setPressedDelete(true);\n  }\n\n  var HandleTripDeletion = function HandleTripDeletion() {\n    var _useMutation = useMutation(DELETE_TRIP),\n        _useMutation2 = _slicedToArray(_useMutation, 1),\n        deleteTrip = _useMutation2[0];\n\n    if (pressedDelete) {\n      var proceed = window.confirm();\n\n      if (proceed) {\n        useEffect(function () {\n          deleteTrip({\n            variables: {\n              Trip_ID: tripId\n            }\n          });\n        }, []);\n        setPressedDelete(function (current) {\n          return !current;\n        });\n      }\n    }\n\n    handleRoute('/myGroups');\n    window.location.reload(false);\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, tripInfo.Trip_Name), /*#__PURE__*/React.createElement(TripNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TripNav2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TripNavButton, {\n    onClick: function onClick() {\n      return handleRoute('/TripSettings');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"Trip Settings\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: SettingsDark,\n    alt: \"Settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(TripNavButton, {\n    style: {\n      backgroundColor: '#c70000'\n    },\n    onClick: DeleteTripFunction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"Delete Trip\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: TrashDark,\n    alt: \"Delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  })), pressedDelete && /*#__PURE__*/React.createElement(HandleTripDeletion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 39\n    }\n  })), /*#__PURE__*/React.createElement(Cards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Trip, {\n    tripInfo: tripInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Flight Choices\"), /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Hotel Choices\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }));\n}\n\n;\nvar Container = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n\\n\"])));\nvar Content = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    min-height: 100vh;\\n    margin: 0 10%;\\n    padding: 40px 0 0 0;\\n    text-align: center;\\n    display: flex;\\n    align-items: center;\\n    flex-direction: column;\\n\"])));\nvar Title = styled.p(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    font-size: 36px;\\n    margin: 0 0 50px 0;\\n    font-weight: 700;\\n\"])));\nvar TripNav2 = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n    margin: 50px auto;\\n    display: flex;\\n    justify-content: space-around;\\n    width: 100%;\\n\"])));\nvar TripNavButton = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n    display: flex;\\n    border: none;\\n    padding: 0px 5px;\\n    border-radius: 20px;\\n    background-color: #308446;\\n    transition: 600ms;\\n    cursor: pointer;\\n    align-items: center;\\n    width: 250px;\\n    margin: 20px 0;\\n    justify-content: center;\\n\\n    p {\\n        color: white;\\n        font-size: 16px;\\n        margin-right: 5px;\\n    }\\n\\n    img{\\n        height: 20px;\\n        width: 20px;\\n    }\\n\\n    &:hover {\\n        transition: 600ms;\\n        transform: scale(1.2);\\n    }\\n\"])));\nvar Cards = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n    width: 900px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n\"])));\nvar CardTitle = styled.div(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n    font-size: 36px;\\n    width: 100%;\\n    display: flex;\\n    align-items: flex-start;\\n    margin-bottom: 25px;\\n\"])));\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(TripDetails);","map":{"version":3,"sources":["/home/emily/Documents/spring22/capstone/22A482-TripPlanner/src/Pages/TripDetails.js"],"names":["React","useEffect","styled","useNavigate","Nav","TripNav","Footer","TrashDark","SettingsDark","gql","useMutation","connect","Trip","FlightCard","HotelCard","ActivitiesCard","TripDetails","props","tripId","tripInfo","console","log","auth","sessionStorage","setItem","JSON","stringify","Trip_ID","parse","getItem","history","handleRoute","route","DELETE_TRIP","useState","pressedDelete","setPressedDelete","DeleteTripFunction","HandleTripDeletion","deleteTrip","proceed","window","confirm","variables","current","location","reload","Trip_Name","backgroundColor","Container","div","Content","Title","p","TripNav2","TripNavButton","Cards","CardTitle","mapStateToProps","state"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yCAAtB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,SAAQC,GAAR,EAAaC,WAAb,QAAgC,gBAAhC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,MAAIC,MAAM,GAAG,IAAb;AACA,MAAIC,QAAQ,GAAG,IAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;;AACA,MAAIA,KAAK,IAAIA,KAAK,CAACK,IAAf,IAAuBL,KAAK,CAACK,IAAN,CAAWH,QAAtC,EAAgD;AAC5CI,IAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCC,IAAI,CAACC,SAAL,CAAeT,KAAK,CAACK,IAAN,CAAWH,QAA1B,CAAnC;AACAD,IAAAA,MAAM,GAAGD,KAAK,CAACK,IAAN,CAAWH,QAAX,CAAoBQ,OAA7B;AACAR,IAAAA,QAAQ,GAAGF,KAAK,CAACK,IAAN,CAAWH,QAAtB;AACH,GAJD,MAIO;AACHA,IAAAA,QAAQ,GAAGM,IAAI,CAACG,KAAL,CAAWL,cAAc,CAACM,OAAf,CAAuB,UAAvB,CAAX,CAAX;AACAX,IAAAA,MAAM,GAAGC,QAAQ,CAACQ,OAAlB;AACH;;AAGD,MAAMG,OAAO,GAAG3B,WAAW,EAA3B;;AACA,WAAS4B,WAAT,CAAqBC,KAArB,EAA4B;AACxBF,IAAAA,OAAO,CAACE,KAAD,CAAP;AACH;;AAED,MAAMC,WAAW,GAAGxB,GAAH,iMAAjB;;AAnBwB,wBAyBkBT,KAAK,CAACkC,QAAN,CAAe,KAAf,CAzBlB;AAAA;AAAA,MAyBjBC,aAzBiB;AAAA,MAyBFC,gBAzBE;;AA2BxB,WAASC,kBAAT,GAA8B;AAC9BD,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACC;;AAED,MAAME,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAAA,uBACR5B,WAAW,CAACuB,WAAD,CADH;AAAA;AAAA,QACtBM,UADsB;;AAG7B,QAAGJ,aAAH,EAAkB;AACd,UAAIK,OAAO,GAAGC,MAAM,CAACC,OAAP,EAAd;;AACA,UAAIF,OAAJ,EAAa;AACTvC,QAAAA,SAAS,CAAC,YAAM;AACZsC,UAAAA,UAAU,CAAC;AACXI,YAAAA,SAAS,EAAE;AAAChB,cAAAA,OAAO,EAAET;AAAV;AADA,WAAD,CAAV;AAIH,SALQ,EAKN,EALM,CAAT;AAMAkB,QAAAA,gBAAgB,CAAC,UAAAQ,OAAO;AAAA,iBAAI,CAACA,OAAL;AAAA,SAAR,CAAhB;AACH;AACJ;;AAEDb,IAAAA,WAAW,CAAC,WAAD,CAAX;AACAU,IAAAA,MAAM,CAACI,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACA,WAAO,IAAP;AACH,GAnBD;;AAqBA,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ3B,QAAQ,CAAC4B,SAAjB,CADJ,eAEI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAE;AAAA,aAAMhB,WAAW,CAAC,eAAD,CAAjB;AAAA,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAK,IAAA,GAAG,EAAEvB,YAAV;AAAwB,IAAA,GAAG,EAAC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAE;AAACwC,MAAAA,eAAe,EAAE;AAAlB,KAAtB;AAAoD,IAAA,OAAO,EAAEX,kBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAK,IAAA,GAAG,EAAE9B,SAAV;AAAqB,IAAA,GAAG,EAAC,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,EASK4B,aAAa,iBAAI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATtB,CAHJ,eAcI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEhB,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAKI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALJ,CAdJ,CAFJ,eAyBI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,CADJ;AA6BH;;AAAA;AAED,IAAM8B,SAAS,GAAG/C,MAAM,CAACgD,GAAV,2EAAf;AAIA,IAAMC,OAAO,GAAGjD,MAAM,CAACgD,GAAV,mPAAb;AAUA,IAAME,KAAK,GAAGlD,MAAM,CAACmD,CAAV,+IAAX;AAMA,IAAMC,QAAQ,GAAGpD,MAAM,CAACgD,GAAV,2KAAd;AAOA,IAAMK,aAAa,GAAGrD,MAAM,CAACgD,GAAV,kkBAAnB;AA8BA,IAAMM,KAAK,GAAGtD,MAAM,CAACgD,GAAV,uKAAX;AAOA,IAAMO,SAAS,GAAGvD,MAAM,CAACgD,GAAV,6LAAf;;AAQA,IAAMQ,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAOA,KAAP;AACD,CAFH;;AAIE,eAAehD,OAAO,CAAC+C,eAAD,CAAP,CAAyB1C,WAAzB,CAAf","sourcesContent":["import React, {useEffect} from 'react'\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport Nav from '../Components/Nav';\nimport TripNav from '../Components/TripNav';\nimport Footer from '../Components/Footer';\nimport TrashDark from '../Images/Icons/DarkMode/TrashLight.png'\nimport SettingsDark from '../Images/Icons/DarkMode/SettingsLight.png';\nimport {gql, useMutation } from \"@apollo/client\";\nimport {connect} from \"react-redux\";\nimport Trip from '../Components/Trip';\nimport FlightCard from '../Components/FlightCard';\nimport HotelCard from '../Components/HotelCard';\nimport ActivitiesCard from '../Components/ActivitiesCard';\n\nfunction TripDetails(props) {\n    let tripId = null;\n    let tripInfo = null;\n    console.log(props);\n    if (props && props.auth && props.auth.tripInfo) {\n        sessionStorage.setItem('tripInfo', JSON.stringify(props.auth.tripInfo));\n        tripId = props.auth.tripInfo.Trip_ID;\n        tripInfo = props.auth.tripInfo;\n    } else {\n        tripInfo = JSON.parse(sessionStorage.getItem('tripInfo'));\n        tripId = tripInfo.Trip_ID;\n    }\n\n\n    const history = useNavigate();\n    function handleRoute(route) {\n        history(route);\n    }\n\n    const DELETE_TRIP = gql`mutation deleteTrip ($Trip_ID: Int!) {\n        delete_Trip_by_pk(Trip_ID: $Trip_ID) {\n          Trip_Bio\n        }\n    }`\n      \n    const [pressedDelete, setPressedDelete] = React.useState(false)\n\n    function DeleteTripFunction() {\n    setPressedDelete(true);\n    }\n\n    const HandleTripDeletion = () => {\n        const [deleteTrip] = useMutation(DELETE_TRIP);\n\n        if(pressedDelete) {\n            let proceed = window.confirm();\n            if (proceed) {\n                useEffect(() => {\n                    deleteTrip({\n                    variables: {Trip_ID: tripId}\n                    });\n\n                }, []);\n                setPressedDelete(current => !current);\n            }\n        }\n\n        handleRoute('/myGroups')\n        window.location.reload(false);\n        return null;\n    }\n\n    return (\n        <Container>\n            <Nav />\n            <Content>\n                <Title>{tripInfo.Trip_Name}</Title>\n                <TripNav />\n                <TripNav2>\n                    <TripNavButton onClick={() => handleRoute('/TripSettings')}>\n                        <p>Trip Settings</p>\n                        <img src={SettingsDark} alt=\"Settings\" />\n                    </TripNavButton>\n                    <TripNavButton style={{backgroundColor: '#c70000'}} onClick={DeleteTripFunction}>\n                        <p>Delete Trip</p>\n                        <img src={TrashDark} alt=\"Delete\" />\n                    </TripNavButton>\n                    {pressedDelete && <HandleTripDeletion />}\n                </TripNav2>\n                <Cards>\n                    <Trip tripInfo={tripInfo}/>\n                    <CardTitle>Flight Choices</CardTitle>\n                    {/* <FlightCard />\n                    <FlightCard /> */}\n                    <CardTitle>Hotel Choices</CardTitle>\n                    {/* <HotelCard /> */}\n                </Cards>\n            </Content>\n            <Footer />\n        </Container>\n    )\n};\n\nconst Container = styled.div`\n\n`;\n\nconst Content = styled.div`\n    min-height: 100vh;\n    margin: 0 10%;\n    padding: 40px 0 0 0;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n`;\n\nconst Title = styled.p`\n    font-size: 36px;\n    margin: 0 0 50px 0;\n    font-weight: 700;\n`;\n\nconst TripNav2 = styled.div`\n    margin: 50px auto;\n    display: flex;\n    justify-content: space-around;\n    width: 100%;\n`;\n\nconst TripNavButton = styled.div`\n    display: flex;\n    border: none;\n    padding: 0px 5px;\n    border-radius: 20px;\n    background-color: #308446;\n    transition: 600ms;\n    cursor: pointer;\n    align-items: center;\n    width: 250px;\n    margin: 20px 0;\n    justify-content: center;\n\n    p {\n        color: white;\n        font-size: 16px;\n        margin-right: 5px;\n    }\n\n    img{\n        height: 20px;\n        width: 20px;\n    }\n\n    &:hover {\n        transition: 600ms;\n        transform: scale(1.2);\n    }\n`;\n\nconst Cards = styled.div`\n    width: 900px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst CardTitle = styled.div`\n    font-size: 36px;\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    margin-bottom: 25px;\n`;\n\nconst mapStateToProps = (state) => {\n    return state;\n  }\n  \n  export default connect(mapStateToProps)(TripDetails);"]},"metadata":{},"sourceType":"module"}