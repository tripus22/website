{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/emily/Documents/spring22/capstone/22A482-TripPlanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/home/emily/Documents/spring22/capstone/22A482-TripPlanner/src/Detail Subpages/AddFlight.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3;\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport Nav from '../Components/Nav';\nimport Footer from '../Components/Footer';\nimport Flight from \"../Components/Flight\";\nimport { Content } from '../Styles/global';\nimport { gql, useQuery } from \"@apollo/client\";\nimport { connect } from \"react-redux\";\nimport Loading from '../Components/Loading';\nimport PlusDark from '../Images/Icons/DarkMode/PlusLight.png';\nimport { store } from '../store/TripUsStore';\nimport request from \"request\";\nimport FlightCard from '../Components/FlightCard';\nimport Group from \"../Components/Group\";\n\nfunction AddFlight(props) {\n  var _this = this;\n\n  var userId = null;\n\n  if (!props.auth.userId) {\n    userId = sessionStorage.getItem('userId');\n  } else {\n    sessionStorage.setItem('userId', props.auth.userId);\n    userId = props.auth.userId;\n  }\n\n  var request = require('request');\n\n  var options = {\n    method: 'GET',\n    url: 'https://priceline-com-provider.p.rapidapi.com/v2/flight/departures',\n    qs: {\n      departure_date: '2022-04-21',\n      sid: 'iSiX639',\n      adults: '1',\n      destination_airport_code: 'DFW',\n      origin_airport_code: 'LAX'\n    },\n    headers: {\n      'X-RapidAPI-Host': 'priceline-com-provider.p.rapidapi.com',\n      'X-RapidAPI-Key': '191ead3c15msh823099d2d53b980p1910cejsnbfe892a19103',\n      useQueryString: true\n    }\n  };\n  React.useEffect(function () {\n    request(options, function (error, response, body) {\n      if (error) throw new Error(error);\n      console.log(JSON.parse(body));\n      var dataArr = [];\n      var data = JSON.parse(body).getAirFlightDepartures.results.result.itinerary_data;\n      var keys = Object.keys(data);\n      keys.forEach(function (key, index) {\n        console.log(\"\".concat(key, \": \").concat(data[key]));\n        dataArr.push(data[key]);\n      });\n      store.dispatch({\n        type: 'FLIGHT_DATA',\n        payload: dataArr\n      });\n    });\n  }, []);\n\n  if (!props.auth.flightData) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      message: \"Finding Available Flights...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    });\n  }\n\n  console.log(props.auth.flightData);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Flights\")), /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, props.auth.flightData.map(function (flight) {\n    return /*#__PURE__*/React.createElement(FlightCard, {\n      flight: flight.slice_data.slice_0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n \\n\"])));\nvar Title = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  margin-top: 100px;\\n\"])));\nvar CreateGroup = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  border: none;\\n  padding: 0px 5px;\\n  border-radius: 20px;\\n  background-color: #308446;\\n  transition: 600ms;\\n  cursor: pointer;\\n  align-items: center;\\n\\n  p {\\n    color: white;\\n    font-size: 16px;\\n    margin-right: 5px;\\n  }\\n\\n  img{\\n    height: 30px;\\n    width: 30px;\\n  }\\n\\n  &:hover {\\n      transition: 600ms;\\n      transform: scale(1.2);\\n    }\\n\"])));\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(AddFlight);","map":{"version":3,"sources":["/home/emily/Documents/spring22/capstone/22A482-TripPlanner/src/Detail Subpages/AddFlight.js"],"names":["React","styled","Nav","Footer","Flight","Content","gql","useQuery","connect","Loading","PlusDark","store","request","FlightCard","Group","AddFlight","props","userId","auth","sessionStorage","getItem","setItem","require","options","method","url","qs","departure_date","sid","adults","destination_airport_code","origin_airport_code","headers","useQueryString","useEffect","error","response","body","Error","console","log","JSON","parse","dataArr","data","getAirFlightDepartures","results","result","itinerary_data","keys","Object","forEach","key","index","push","dispatch","type","payload","flightData","map","flight","slice_data","slice_0","Container","div","Title","CreateGroup","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Nav from '../Components/Nav';\nimport Footer from '../Components/Footer';\nimport Flight from \"../Components/Flight\";\nimport { Content } from '../Styles/global';\nimport {gql, useQuery} from \"@apollo/client\";\nimport {connect} from \"react-redux\";\nimport Loading from '../Components/Loading';\nimport PlusDark from '../Images/Icons/DarkMode/PlusLight.png'\nimport { store } from '../store/TripUsStore';\nimport request from \"request\";\nimport FlightCard from '../Components/FlightCard'\nimport Group from \"../Components/Group\";\n\nfunction AddFlight(props) {\n  let userId = null;\n  if (!props.auth.userId) {\n    userId = sessionStorage.getItem('userId');\n  } else {\n    sessionStorage.setItem('userId', props.auth.userId);\n    userId = props.auth.userId;\n  }\n\n    const request = require('request');\n\n    const options = {\n        method: 'GET',\n        url: 'https://priceline-com-provider.p.rapidapi.com/v2/flight/departures',\n        qs: {\n            departure_date: '2022-04-21',\n            sid: 'iSiX639',\n            adults: '1',\n            destination_airport_code: 'DFW',\n            origin_airport_code: 'LAX'\n        },\n        headers: {\n            'X-RapidAPI-Host': 'priceline-com-provider.p.rapidapi.com',\n            'X-RapidAPI-Key': '191ead3c15msh823099d2d53b980p1910cejsnbfe892a19103',\n            useQueryString: true\n        }\n    };\n\n\n    React.useEffect(() => {\n\n        request(options, function (error, response, body) {\n            if (error) throw new Error(error);\n            console.log(JSON.parse(body))\n            let dataArr = []\n            const data = JSON.parse(body).getAirFlightDepartures.results.result.itinerary_data\n            const keys = Object.keys(data)\n            keys.forEach((key, index) => {\n                console.log(`${key}: ${data[key]}`)\n                dataArr.push(data[key])\n            })\n            store.dispatch({type: 'FLIGHT_DATA', payload: dataArr})\n        });\n    }, []);\n\n    if (!props.auth.flightData) {\n\n        return (\n            <Loading message=\"Finding Available Flights...\" />\n        )\n\n    }\n\n    console.log(props.auth.flightData)\n  return (\n    <Container>\n      <Nav />\n      <Title>\n        <h1>Flights</h1>\n      </Title>\n      <Content>\n          {props.auth.flightData.map((flight) => {\n              return (<FlightCard flight={flight.slice_data.slice_0}/>);\n          })}\n      </Content>\n      <Footer />\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n \n`;\n\nconst Title = styled.div`\n  text-align: center;\n  margin-top: 100px;\n`;\n\nconst CreateGroup = styled.div`\n  display: flex;\n  border: none;\n  padding: 0px 5px;\n  border-radius: 20px;\n  background-color: #308446;\n  transition: 600ms;\n  cursor: pointer;\n  align-items: center;\n\n  p {\n    color: white;\n    font-size: 16px;\n    margin-right: 5px;\n  }\n\n  img{\n    height: 30px;\n    width: 30px;\n  }\n\n  &:hover {\n      transition: 600ms;\n      transform: scale(1.2);\n    }\n`;\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nexport default connect(mapStateToProps)(AddFlight);"]},"metadata":{},"sourceType":"module"}