{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/emily/Documents/spring22/capstone/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/home/emily/Documents/spring22/capstone/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _templateObject,\n    _jsxFileName = \"/home/emily/Documents/spring22/capstone/website/src/Detail Subpages/AddTransport.js\",\n    _templateObject2,\n    _templateObject3,\n    _templateObject4;\n\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport Nav from '../Components/Nav';\nimport Footer from '../Components/Footer';\nimport Transport from \"../Components/Transport\";\nimport { Content } from '../Styles/global';\nimport { gql, useQuery } from \"@apollo/client\";\nimport { connect } from \"react-redux\";\nimport Loading from '../Components/Loading';\nimport PlusDark from '../Images/Icons/DarkMode/PlusLight.png';\nimport { store } from '../store/TripUsStore';\nimport request from \"request\";\n\nfunction AddTransport(props) {\n  var _this = this;\n\n  var userId = null;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      res = _React$useState2[0],\n      setRes = _React$useState2[1];\n\n  if (!props.auth.userId) {\n    userId = sessionStorage.getItem('userId');\n  } else {\n    sessionStorage.setItem('userId', props.auth.userId);\n    userId = props.auth.userId;\n  }\n\n  var GET_GROUPS = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"query GetUserGroups ($User_ID: Int!){\\n      membership(where: {User_ID: {_eq: $User_ID}}) {\\n          Group {\\n              \\n              Group_Image\\n              memberships {\\n                  User_ID\\n              },\\n              Group_Name\\n              Group_Bio:\\n              Founding_Date\\n          }\\n      }\\n  }\"]))); //   const myObj = {\n  //     name: \"bus\",\n  //     availble: true,\n  //     rating: 5,\n  //   };\n  //   store.dispatch({type: 'TRIP_DATA', payload :myObj})\n\n  var _useQuery = useQuery(GET_GROUPS, {\n    variables: {\n      User_ID: userId\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      message: \"Finding Availible Transport...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 14\n      }\n    }, error);\n  }\n\n  console.log(data);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Transport Options\")), /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, data && data.membership.length === 0 ? /*#__PURE__*/React.createElement(CreateGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"Create A Group\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: PlusDark,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  })) : data.membership.map(function (group) {\n    return /*#__PURE__*/React.createElement(Transport, {\n      groupInfo: group.Group,\n      key: group.Group_ID,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 23\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar Container = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n \\n\"])));\nvar Title = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  margin-top: 100px;\\n\"])));\nvar CreateGroup = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  border: none;\\n  padding: 0px 5px;\\n  border-radius: 20px;\\n  background-color: #308446;\\n  transition: 600ms;\\n  cursor: pointer;\\n  align-items: center;\\n\\n  p {\\n    color: white;\\n    font-size: 16px;\\n    margin-right: 5px;\\n  }\\n\\n  img{\\n    height: 30px;\\n    width: 30px;\\n  }\\n\\n  &:hover {\\n      transition: 600ms;\\n      transform: scale(1.2);\\n    }\\n\"])));\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(AddTransport);","map":{"version":3,"sources":["/home/emily/Documents/spring22/capstone/website/src/Detail Subpages/AddTransport.js"],"names":["React","useEffect","useRef","styled","Nav","Footer","Transport","Content","gql","useQuery","connect","Loading","PlusDark","store","request","AddTransport","props","userId","useState","res","setRes","auth","sessionStorage","getItem","setItem","GET_GROUPS","variables","User_ID","data","error","loading","console","log","membership","length","map","group","Group","Group_ID","Container","div","Title","CreateGroup","mapStateToProps","state"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAAQC,GAAR,EAAaC,QAAb,QAA4B,gBAA5B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,wCAArB;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,OAAOC,OAAP,MAAoB,SAApB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAC3B,MAAIC,MAAM,GAAG,IAAb;;AAD2B,wBAEHjB,KAAK,CAACkB,QAAN,CAAe,IAAf,CAFG;AAAA;AAAA,MAElBC,GAFkB;AAAA,MAEbC,MAFa;;AAG3B,MAAI,CAACJ,KAAK,CAACK,IAAN,CAAWJ,MAAhB,EAAwB;AACtBA,IAAAA,MAAM,GAAGK,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAT;AACD,GAFD,MAEO;AACLD,IAAAA,cAAc,CAACE,OAAf,CAAuB,QAAvB,EAAiCR,KAAK,CAACK,IAAN,CAAWJ,MAA5C;AACAA,IAAAA,MAAM,GAAGD,KAAK,CAACK,IAAN,CAAWJ,MAApB;AACD;;AAED,MAAMQ,UAAU,GAAGjB,GAAH,qZAAhB,CAV2B,CAyB7B;AACA;AACA;AACA;AAEA;AAEA;;AAhC6B,kBAkCIC,QAAQ,CAACgB,UAAD,EAAa;AAChDC,IAAAA,SAAS,EAAG;AAACC,MAAAA,OAAO,EAAGV;AAAX;AADoC,GAAb,CAlCZ;AAAA,MAkCpBW,IAlCoB,aAkCpBA,IAlCoB;AAAA,MAkCdC,KAlCc,aAkCdA,KAlCc;AAAA,MAkCPC,OAlCO,aAkCPA,OAlCO;;AAsC3B,MAAGA,OAAH,EAAY;AACR,wBACI,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAC,gCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAED,MAAGD,KAAH,EAAU;AACN,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAJ,CAAP;AACH;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CAFF,eAKE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IAAI,IAAIA,IAAI,CAACK,UAAL,CAAgBC,MAAhB,KAA2B,CAAnC,gBACG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,IAAA,GAAG,EAAEtB,QAAV;AAAoB,IAAA,GAAG,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADH,GAKGgB,IAAI,CAACK,UAAL,CAAgBE,GAAhB,CAAoB,UAACC,KAAD,EAAW;AAE7B,wBAAQ,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEA,KAAK,CAACC,KAA5B;AAAmC,MAAA,GAAG,EAAED,KAAK,CAACE,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACH,GAHC,CANN,CALF,eAgBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CADF;AAoBD;;AAED,IAAMC,SAAS,GAAGpC,MAAM,CAACqC,GAAV,4EAAf;AAIA,IAAMC,KAAK,GAAGtC,MAAM,CAACqC,GAAV,sHAAX;AAKA,IAAME,WAAW,GAAGvC,MAAM,CAACqC,GAAV,0cAAjB;;AA2BA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAOA,KAAP;AACH,CAFD;;AAIA,eAAelC,OAAO,CAACiC,eAAD,CAAP,CAAyB5B,YAAzB,CAAf","sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport styled from 'styled-components';\nimport Nav from '../Components/Nav';\nimport Footer from '../Components/Footer';\nimport Transport from \"../Components/Transport\";\nimport { Content } from '../Styles/global';\nimport {gql, useQuery} from \"@apollo/client\";\nimport {connect} from \"react-redux\";\nimport Loading from '../Components/Loading';\nimport PlusDark from '../Images/Icons/DarkMode/PlusLight.png'\nimport { store } from '../store/TripUsStore';\nimport request from \"request\";\n\nfunction AddTransport(props) {\n  let userId = null;\n    const [res, setRes] = React.useState(null);\n  if (!props.auth.userId) {\n    userId = sessionStorage.getItem('userId');\n  } else {\n    sessionStorage.setItem('userId', props.auth.userId);\n    userId = props.auth.userId;\n  }\n\n  const GET_GROUPS = gql`query GetUserGroups ($User_ID: Int!){\n      membership(where: {User_ID: {_eq: $User_ID}}) {\n          Group {\n              \n              Group_Image\n              memberships {\n                  User_ID\n              },\n              Group_Name\n              Group_Bio:\n              Founding_Date\n          }\n      }\n  }`\n\n//   const myObj = {\n//     name: \"bus\",\n//     availble: true,\n//     rating: 5,\n\n//   };\n\n//   store.dispatch({type: 'TRIP_DATA', payload :myObj})\n\n  const {data, error, loading} = useQuery(GET_GROUPS, {\n      variables : {User_ID : userId}\n  });\n\n  if(loading) {\n      return (\n          <Loading message=\"Finding Availible Transport...\" />\n      )\n  }\n\n  if(error) {\n      return <p>{error}</p>;\n  }\n  console.log(data)\n\n  return (\n    <Container>\n      <Nav />\n      <Title>\n        <h1>Transport Options</h1>\n      </Title>\n      <Content>\n        {data && data.membership.length === 0\n          ? <CreateGroup>\n              <p>Create A Group</p>\n              <img src={PlusDark} alt=\"\" />\n            </CreateGroup>\n          : data.membership.map((group) => {\n\n              return (<Transport groupInfo={group.Group} key={group.Group_ID}/>)\n          })}\n      </Content>\n      <Footer />\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n \n`;\n\nconst Title = styled.div`\n  text-align: center;\n  margin-top: 100px;\n`;\n\nconst CreateGroup = styled.div`\n  display: flex;\n  border: none;\n  padding: 0px 5px;\n  border-radius: 20px;\n  background-color: #308446;\n  transition: 600ms;\n  cursor: pointer;\n  align-items: center;\n\n  p {\n    color: white;\n    font-size: 16px;\n    margin-right: 5px;\n  }\n\n  img{\n    height: 30px;\n    width: 30px;\n  }\n\n  &:hover {\n      transition: 600ms;\n      transform: scale(1.2);\n    }\n`;\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nexport default connect(mapStateToProps)(AddTransport);"]},"metadata":{},"sourceType":"module"}